<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <script>
            /* 
            箭头函数：
                ([参数]) => 返回值

            例子：
                无参箭头函数：() => 返回值
                一个参数的：a => 返回值     
                多个参数的：(a, b) => 返回值

                只有一个语句的函数：() => 返回值
                只返回一个对象的函数：() => ({...})
                有多行语句的函数：() => {
                    ....    
                    return 返回值
                }

            
            箭头函数没有自己的this，它的this有"外层作用域"决定
            箭头函数的this和它的调用方式无关
        */

            // function fn() {
            //     console.log("fn -->", this)
            // }

            // const fn2 = () => {
            //     console.log("fn2 -->", this) // 总是window
            // }

            // fn() // window
            // fn2() // window

            // const obj = {
            //     name:"孙悟空",
            //     fn, // fn:fn
            //     fn2,
            //     sayHello(){
            //         console.log(this.name)

            //         // function t(){
            //         //     console.log("t -->", this)
            //         // }
            //         // t()

            //         const t2 = () => {
            //             console.log("t2 -->", this)
            //         }

            //         t2()
            //     }
            // }

            // obj.fn() // obj
            // obj.fn2() // window

            // obj.sayHello()

            const func1 = function() {
                console.log('this: ', this) // 执行调用的对象
            }

            const func2 = () => console.log('this: ', this); // 指向"外层作用域"的对象

            // func1();
            // func2();

            const obj1 = {
                name: "fuck",
                func1,  // obj1
                func2,  // window
                // func3: function(){
                func3(){ // 简写
                    console.log('this: ', this, this.name) // obj
                    function t() {
                        console.log('t this: ', this, this.name) //window
                    }
                    t(); // 以函数形式调用时，this指向的是window, 以方法的形式调用时，this指向的是调用方法的对象

                    const f = () => console.log('this: ', this, this.name)
                    f(); // obj
                },
                obj2: {
                    name: 'shit',
                    f2: () => console.log('f2 this: ', this, this.name) // 这里this的外层作用域指的是外层函数的作用域的this，不是对象的作用域this，所以只能是window
                }
            }

            obj1.func1()
            obj1.func2()
            obj1.func3()
            obj1.obj2.f2()


        </script>
    </head>
    <body></body>
</html>
