#include <stdio.h>
#include <string.h>
#include <stdlib.h>

#define N 50

typedef struct{
    int num;
    char name[50];
    int grade;
    char add[100];
} Student;

void write(int n){
    FILE *fp;
    Student stu[n];
    if ((fp = fopen("stu.dat", "wb")) == NULL){
        printf("file open failed");
        exit(0);
    }
    for (int i = 0; i < n; ++i) {
        scanf("%d %s %d %s", &stu[i].num, stu[i].name, &stu[i].grade, stu[i].add);
    }
    fwrite(stu, sizeof(Student), n, fp);
    fclose(fp);
}

void read(int n){
    FILE *fp;
    Student stu;
    if ((fp = fopen("stu.dat", "rb")) == NULL) {
        printf("file open failed");
        exit(0);
    }
    for (int i = 0; i < n; ++i) {
        fread(&stu, sizeof(Student), 1, fp);
        printf("%d %s %d %s\n", stu.num, stu.name, stu.grade, stu.add);
        fseek(fp, sizeof(Student), 1);
    }
    fclose(fp);
}



int main(){
    int n = 5;
//    write(10);
    read(n);
    return 0;
}