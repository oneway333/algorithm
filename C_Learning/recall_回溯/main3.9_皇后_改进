/*
 *
3.9 n 皇后
在n×n格的棋盘上放置彼此不受攻击的n个皇后。按照国际象棋的规则，皇后可以攻击与之处在同一行或同一列或同一斜线上的棋子。n后问题等价于在n×n格的棋盘上放置n个皇后，
 任何2个皇后不放在同一行或同一列或同一斜线上。下图表示八皇后的一种解，输入一个n返回解的个数。

输入：n = 4
输出：2
输入：n = 8
输出：92
 */

#include <stdio.h>
#include <string.h>
#include <math.h>

#define N 500

// p表示第几行，path[p]表示第几列
int path[N], p = 0;
int n, res = 0;


int test(c){
    for (int i = 0; i < p; ++i) {
        // 确保不在对角线，这里要明确每个变量的含义以及用途。。。。
        if (abs(p - i) == abs(c - path[i])) return 0;
        // 确保不在同一列
        if (c == path[i]) return 0;
    }
    return 1;
}

void dfs(){
    if (p == n) {
        res++;
        return;
    }
    for (int i = 0; i < n; ++i) {
        if (!test(i)) continue;
        path[p++] = i;
        dfs();
        p--;
    }
}


int main(){
    scanf("%d", &n);
    dfs();
    printf("%d\n", res);
    return 0;
}